{% extends "base.html" %}
{% block title %}–ú–∞—Ä—à—Ä—É—Ç –Ω–∞ –∫–∞—Ä—Ç–µ{% endblock %}
{% block content %}
  <div id="controls">
    <h4>–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</h4>

    <div class="coord-block">
      <b>–ù–∞—á–∞–ª–æ –º–∞—Ä—à—Ä—É—Ç–∞</b><br>
      <input id="startPnt" placeholder="" value="">
      <button id="pickStartBtn" class="small-btn">üìç –í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
    </div>

    <div class="coord-block">
      <b>–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞</b><br>
      <input id="endPnt" placeholder="" value="">
      <button id="pickEndBtn" class="small-btn">üìç –í—ã–±—Ä–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
    </div>

    <button id="buildBtn">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
    <button id="clearBtn" style="background:#aaa;">–û—á–∏—Å—Ç–∏—Ç—å</button>
    <button id="startBtn" style="display:none; background:#28a745; color:#fff;" class="small-btn">–ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
    <div id="animControls" style="display:none; margin-top:10px; font-size:12px;">
      <button id="pauseBtn" class="small-btn" style="width:45%; margin-right:2%;">–ü–∞—É–∑–∞</button>
      <button id="resumeBtn" class="small-btn" style="width:45%; display:none;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      <button id="finishBtn" class="small-btn" style="width:45%; display:none; background:#bb1111; color:#fff;">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
      <div style="margin-top:5px;">
        <button id="slowBtn" class="small-btn" style="width:30%; margin-right:2%;">‚àí</button>
        <button id="fastBtn" class="small-btn" style="width:30%; margin-right:2%;">+</button>
        <br><br>
        <div class="button">
          <label>–ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏:</label>
        </div>
        <input id="speedMult" type="number" min="0.1" max="10" step="0.5" value="1" style="width:35%; height:20px; padding:2px;">
      </div>
    </div>
  </div>

  <div id="map"></div>

  <div id="sidebar" style="display:none;">
    <h4>–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è</h4>
    <div id="metrics">
      <div class="coord-block"><b>–¢–µ–∫—É—â–∏–π –º–∞—Ä—à—Ä—É—Ç:</b></div>
      <div>–¢–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: <input id="speed" placeholder="" value="20" style="width: 30px;"> –∫–º/—á <input type="checkbox" id="useOptimalSpeed" title="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å"> </div>
      <div>–ü—Ä–æ–π–¥–µ–Ω–Ω—ã–π –ø—É—Ç—å: <span id="distance">0</span> –∫–º</div>
      <div>–†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞: <span id="fuel">0</span> –ª</div>
      <div class="coord-block"><b>–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç:</b></div>
      <div>–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: <span id="opt_speed">0</span> –∫–º/—á</div>
      <div>–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø—É—Ç—å: <span id="opt_distance">0</span> –∫–º</div>
      <div>–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞—Å—Ö–æ–¥: <span id="opt_fuel">0</span> –ª</div>
      <div style="margin-top: 8px;"><b>–í—Ä–µ–º—è –≤ –ø—É—Ç–∏:</b></div>
      <div><span id="elapsed">00:00:00</span></div>
    </div>
    <h5>–ü—Ä–æ—Ñ–∏–ª—å –≤—ã—Å–æ—Ç</h5>
    <canvas id="altitudeChart" width="300" height="150"></canvas>
    <h5>–£–∫–ª–æ–Ω (%)</h5>
    <canvas id="slopeChart" width="300" height="150"></canvas>
  </div>

  <script>
    const CENTER = [parseFloat("{{ center_lat }}"), parseFloat("{{ center_lon }}")];
  </script>
{% endblock %}
